<!DOCTYPE html>
<html>
	<head>
		<div>Hello World!</div>
		<div>
   		 <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
   		 <style type="text/css">
    		  html { height: 100% }
    		  body { height: 100%; margin: 0; padding: 0 }
    		  #map-canvas { height: 100% }
   		 </style>
   		 <script type="text/javascript"
     		 src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAnpJr_aysMrCbFnyjiLBHLE1bICfjr3KM">
    		</script>
   		 <script type="text/javascript">
    		function initialize() {
				var mapOptions = {
   					zoom: 18
  				};
  				map = new google.maps.Map(document.getElementById('map-canvas'),
      				mapOptions);

				// Try HTML5 geolocation
				if(navigator.geolocation) {
				    navigator.geolocation.getCurrentPosition(function(position) {
					    var pos = new google.maps.LatLng(position.coords.latitude,
					    	position.coords.longitude);

					    var infowindow = new google.maps.InfoWindow({
					        map: map,
					        position: pos,
					        content: 'Location found using HTML5.'
					    });

					    map.setCenter(pos);
					    var rectangle = new google.maps.Rectangle({
							strokeColor: '#FF0000',
							strokeOpacity: 0.8,
							strokeWeight: 2,
							fillColor: '#FF0000',
							fillOpacity: 0.35,
							map: map,
							bounds: new google.maps.LatLngBounds(
								new google.maps.LatLng(position.coords.latitude, position.coords.longitude),
								new google.maps.LatLng(position.coords.latitude+.1, position.coords.longitutude+.1))
					    }) 
					}, function() {
					    	handleNoGeolocation(true);
				    });
				} else {
				    // Browser doesn't support Geolocation
				    handleNoGeolocation(false);
				}
			}

			function handleNoGeolocation(errorFlag) {
				if (errorFlag) {
			    	var content = 'Error: The Geolocation service failed.';
			    } else {
			        var content = 'Error: Your browser doesn\'t support geolocation.';
			  	}

			  	var options = {
			    	map: map,
			    	position: new google.maps.LatLng(60, 105),
			    	content: content
			  	};

			  	var infowindow = new google.maps.InfoWindow(options);
			  	map.setCenter(options.position);
			}
     		google.maps.event.addDomListener(window, 'load', initialize);
    		</script>
		</div>
	</head>
	<body>
    	<div id="map-canvas"/>
  	</body>
</html>
